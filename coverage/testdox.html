<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>Test Documentation</title>
        <style>
            body {
                text-rendering: optimizeLegibility;
                font-family: Source SansSerif Pro, Arial, sans-serif;
                font-variant-ligatures: common-ligatures;
                font-kerning: normal;
                margin-left: 2rem;
                background-color: #fff;
                color: #000;
            }

            body > ul > li {
                font-size: larger;
            }

            h2 {
                font-size: larger;
                text-decoration-line: underline;
                text-decoration-thickness: 2px;
                margin: 0;
                padding: 0.5rem 0;
            }

            ul {
                list-style: none;
                margin: 0 0 2rem;
                padding: 0 0 0 1rem;
                text-indent: -1rem;
            }

            .success:before {
                color: #4e9a06;
                content: '✓';
                padding-right: 0.5rem;
            }

            .defect {
                color: #a40000;
            }

            .defect:before {
                color: #a40000;
                content: '✗';
                padding-right: 0.5rem;
            }
        </style>
    </head>
    <body>
        <h2>Auth Controller (Tests\Integration\Controllers\AuthController)</h2>
        <ul>
            <li class="success">Verify password returns false without database</li>
            <li class="success">Find by email returns null without database</li>
            <li class="success">Find by id returns null without database</li>
            <li class="success">Logout clears session</li>
        </ul>
        <h2>Auth Middleware (Tests\Unit\Middleware\AuthMiddleware)</h2>
        <ul>
            <li class="success">Handle returns false when not authenticated</li>
            <li class="success">Handle returns true when authenticated</li>
            <li class="success">Handle returns false when user id is missing</li>
            <li class="success">Handle returns false when user id is empty</li>
            <li class="success">User returns null when not authenticated</li>
            <li class="success">User returns user array when authenticated</li>
            <li class="success">User id returns null when not authenticated</li>
            <li class="success">User id returns user id when authenticated</li>
            <li class="success">Guest returns true when not authenticated</li>
            <li class="success">Guest returns false when authenticated</li>
        </ul>
        <h2>Condominium (Tests\Unit\Models\Condominium)</h2>
        <ul>
            <li class="success">Find by id returns null when no database</li>
            <li class="success">Find by id returns null when condominium does not exist</li>
            <li class="success">Create throws exception when no database</li>
            <li class="success">Create throws exception without database</li>
            <li class="success">Get by user id returns empty array when no database</li>
            <li class="success">Update returns false when no database</li>
        </ul>
        <h2>Fee Service (Tests\Unit\Services\FeeService)</h2>
        <ul>
            <li class="success">Calculate fee amount with valid values</li>
            <li class="success">Calculate fee amount with different permillage</li>
            <li class="success">Calculate fee amount returns zero when total permillage is zero</li>
            <li class="success">Calculate fee amount handles decimal values</li>
            <li class="success">Calculate fee amount with small values</li>
            <li class="success">Calculate fee amount with large values</li>
            <li class="success">Calculate fee amount handles zero fraction permillage</li>
        </ul>
        <h2>Profile Controller (Tests\Integration\Controllers\ProfileController)</h2>
        <ul>
            <li class="success">Profile update returns false without database</li>
            <li class="success">Find by email returns null without database</li>
            <li class="success">Password update returns false without database</li>
        </ul>
        <h2>Reservation Controller (Tests\Integration\Controllers\ReservationController)</h2>
        <ul>
            <li class="success">Get by user returns empty array without database</li>
            <li class="success">Get by condominium returns empty array without database</li>
        </ul>
        <h2>Role Middleware (Tests\Unit\Middleware\RoleMiddleware)</h2>
        <ul>
            <li class="success">Has role returns false when not authenticated</li>
            <li class="success">Has role returns true when user has role</li>
            <li class="success">Has role returns false when user does not have role</li>
            <li class="success">Has any role returns false when not authenticated</li>
            <li class="success">Has any role returns true when user has one role</li>
            <li class="success">Has any role returns false when user does not have any role</li>
            <li class="success">Is admin returns true for admin role</li>
            <li class="success">Is admin returns true for super admin role</li>
            <li class="success">Is admin returns false for condomino role</li>
            <li class="success">Is super admin returns true for super admin role</li>
            <li class="success">Is super admin returns false for admin role</li>
            <li class="success">Is super admin returns false for condomino role</li>
        </ul>
        <h2>Security (Tests\Unit\Core\Security)</h2>
        <ul>
            <li class="success">Sanitize removes html tags</li>
            <li class="success">Sanitize handles null</li>
            <li class="success">Sanitize trims whitespace</li>
            <li class="success">Sanitize escapes special characters</li>
            <li class="success">Sanitize nullable returns null for null</li>
            <li class="success">Sanitize nullable returns null for empty string</li>
            <li class="success">Sanitize nullable sanitizes valid input</li>
            <li class="success">Generate c s r f token creates token</li>
            <li class="success">Generate c s r f token stores in session</li>
            <li class="success">Generate c s r f token returns same token on subsequent calls</li>
            <li class="success">Verify c s r f token returns true for valid token</li>
            <li class="success">Verify c s r f token returns false for invalid token</li>
            <li class="success">Verify c s r f token returns false for empty token</li>
            <li class="success">Verify c s r f token returns false when no token in session</li>
            <li class="success">Hash password creates hash</li>
            <li class="success">Hash password creates different hashes</li>
            <li class="success">Verify password returns true for correct password</li>
            <li class="success">Verify password returns false for incorrect password</li>
            <li class="success">Validate email returns true for valid email</li>
            <li class="success">Validate email returns false for invalid email</li>
            <li class="success">Validate iban returns true for valid iban</li>
            <li class="success">Validate iban returns false for invalid iban</li>
            <li class="success">Generate token creates token</li>
            <li class="success">Generate token with custom length</li>
            <li class="success">Generate random string</li>
            <li class="success">Generate random string with custom length</li>
        </ul>
        <h2>User (Tests\Unit\Models\User)</h2>
        <ul>
            <li class="success">Find by email returns null when no database</li>
            <li class="success">Find by id returns null when no database</li>
            <li class="success">Create throws exception when no database</li>
            <li class="success">Update returns false when no database</li>
            <li class="success">Update returns false without database</li>
            <li class="success">Verify password returns false when no database</li>
            <li class="success">Update last login returns false when no database</li>
        </ul>
    </body>
</html>